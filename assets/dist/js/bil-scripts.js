"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};+function(e,t){e.requestAnimationFrame||(e.requestAnimationFrame=function(){return e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t,i){e.setTimeout(t,1e3/60)}}());var i=[],n=void 0,r=function(){return{startLoad:function(e){var i=e.getElementsByTagName("noscript")[0],n=e.getElementsByTagName("img")[0],a=n.getAttribute("width"),o=n.getAttribute("height"),l=a/o,s=n.clientWidth/l;n.style.height=s+"px";var u=[{key:"alt",value:"alt"},{key:"title",value:"title"},{key:"data-srcset",value:"srcset"},{key:"data-sizes",value:"sizes"},{key:"data-full",value:"full"},{key:"width",value:"width"},{key:"height",value:"height"}],f=t.createElement("img");f.className=n.className+" bil-full-size";for(var c=0;c<u.length;c++){var m=n.getAttribute(u[c].key);null!==m&&f.setAttribute(u[c].value,m)}var d=n.parentNode;d.insertBefore(f,d.childNodes[0]);var g=new Image;g.onload=function(){f.src=this.src,r.switchToLarge({blurred:n,large:f});var e=void 0;e=setTimeout(function(){r.finishUp({blurred:n,large:f,noscript:i}),clearTimeout(e),g.remove()},1e3)},g.src=n.dataset.full},switchToLarge:function(e){e.large.classList.add("bil-loaded"),e.blurred.classList.add("bil-fadeout")},finishUp:function(e){e.blurred.parentElement.removeChild(e.noscript),e.blurred.parentElement.removeChild(e.blurred),e.large.classList.remove("bil-init"),e.large.classList.remove("bil-full-size"),e.large.classList.remove("bil-loaded"),e.large.parentElement.classList.remove("bil-container")},initLoading:function(e){var i=t.createElement("div");i.className="bil-container";var n=e.outerHTML;n=n+"<noscript>"+n+"</noscript>",i.innerHTML=n,e.parentNode.insertBefore(i,e),e.parentNode.removeChild(e),r.startLoad(i)},checkInView:function(t){for(var i=t.offsetTop,n=t.offsetLeft,r=t.offsetWidth,a=t.offsetHeight;t.offsetParent;)t=t.offsetParent,i+=t.offsetTop,n+=t.offsetLeft;return i<e.pageYOffset+e.innerHeight&&n<e.pageXOffset+e.innerWidth&&i+a>e.pageYOffset&&n+r>e.pageXOffset},checkImages:function(){if(0==i.length)return e.cancelAnimationFrame(n),!1;i=i.filter(function(e){var t=r.checkInView(e);return t&&r.initLoading(e),!t}),n=e.requestAnimationFrame(r.checkImages)},init:function(t){if("object"!==(void 0===t?"undefined":_typeof(t))||0===t.length)return!1;i=[].slice.call(t),n=e.requestAnimationFrame(r.checkImages)}}}();r.init(t.querySelectorAll(".bil-init"))}(window,document);